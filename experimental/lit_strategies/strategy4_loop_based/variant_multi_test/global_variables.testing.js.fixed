function onInstantiation(_)
{
	assert(3 == _.globalVariable, "JS: 3 == globalVariable");
	assert(3 == _.getGlobalVariable(), "JS: 3 == getGlobalVariable()");
	_.globalVariable = 4;
	assert(4 == _.globalVariable, "JS: 4 == globalVariable");
	assert(4 == _.getGlobalVariable(), "JS: 4 == getGlobalVariable()");
	_.setGlobalVariable(5);
	assert(5 == _.globalVariable, "JS: 5 == globalVariable");
	assert(5 == _.getGlobalVariable(), "JS: 5 == getGlobalVariable()");
}
function assert(condition, message)
{
	console.log(message, condition ? "SUCCESS" : "FAILURE");
}
function getPromise(_)
{
	// For global functions, return the promise from any exported function
	// They all share the same promise: Promise.resolve()
	return _.getGlobalVariable.promise;
}
function getExports()
{
	// Return the actual exported globals/functions from the compiled code
	return {
		get globalVariable() {
			return globalVariable;
		},
		set globalVariable(value) {
			globalVariable = value;
		},
		getGlobalVariable: getGlobalVariable,
		setGlobalVariable: setGlobalVariable
	};
}
function onError(err)
{
	console.log("unexpected exit : FAILURE");
	throw err;
}
